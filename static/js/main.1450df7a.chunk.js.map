{"version":3,"sources":["components/Error/Error.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/ApiService.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/Error/sadcat.jpg","components/Error/Error.js","App.js","index.js"],"names":["module","exports","Searchbar","value","handleSubmit","handleChange","className","onSubmit","type","autoComplete","autoFocus","placeholder","onChange","ImageGalleryItem","webformatURL","largeImageURL","tags","onOpenModal","src","alt","data-source","onClick","ImageGallery","images","map","index","apiService","query","page","a","axios","get","data","hits","Button","onLoadMore","Loader","s","overlay","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onToggleModal","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","Component","Error","texterror","role","wrapper","img","errorImage","text","App","state","searchQuery","error","showLoadMoreBtn","isLoading","showModal","setState","preventDefault","searchImgs","trim","toast","info","toggleLoader","ApiService","request","length","onScroll","scrollTo","top","documentElement","scrollHeight","behavior","dataset","source","toggleModal","prevProps","prevState","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1450df7a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Error_wrapper__2TEfP\",\"text\":\"Error_text__2Vupz\",\"img\":\"Error_img__3uSvQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Loader_overlay__5c8x7\"};","import PropTypes from 'prop-types';\r\n\r\nfunction Searchbar({ value, handleSubmit, handleChange }) {\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={value}\r\n          onChange={handleChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\nSearchbar.propTypes = {\r\n  handleSubmit: PropTypes.func.isRequired,\r\n  handleChange: PropTypes.func.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import PropTypes from 'prop-types';\r\n\r\nfunction ImageGalleryItem({ webformatURL, largeImageURL, tags, onOpenModal }) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        data-source={largeImageURL}\r\n        className=\"ImageGalleryItem-image\"\r\n        onClick={onOpenModal}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nfunction ImageGallery({ images, onOpenModal }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(({ webformatURL, largeImageURL, tags }, index) => (\r\n        <ImageGalleryItem\r\n          key={index}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          tags={tags}\r\n          onOpenModal={onOpenModal}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import axios from 'axios';\r\n\r\nconst apiService = async (query, page) => {\r\n  const { data } = await axios.get(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=18963132-a5d8582da162d4c0f5ee62384&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n  return data.hits;\r\n};\r\n\r\nexport default apiService;\r\n","import PropTypes from 'prop-types';\r\n// import s from './Button.module.css';\r\n\r\nfunction Button({ onLoadMore }) {\r\n  return (\r\n    <button type=\"button\" className=\"Button\" onClick={onLoadMore}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import RactLoader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from './Loader.module.css';\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div className={s.overlay}>\r\n      <RactLoader\r\n        type=\"Grid\"\r\n        color=\"#3f51b5\"\r\n        height={100}\r\n        width={100}\r\n        timeout={0}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onToggleModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onToggleModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">\r\n          <img src={largeImageURL} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onToggleModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","export default __webpack_public_path__ + \"static/media/sadcat.3fdf6288.jpg\";","import PropTypes from 'prop-types';\r\nimport errorImage from './sadcat.jpg';\r\nimport s from './Error.module.css';\r\n\r\nfunction Error({ texterror }) {\r\n  return (\r\n    <div role=\"alert\" className={s.wrapper}>\r\n      <img className={s.img} src={errorImage} width=\"280\" alt=\"sadcat\" />\r\n      <p text={texterror} className={s.text}>\r\n        {texterror}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nError.propTypes = {\r\n  texterror: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Error;\r\n","import React, { Component } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './App.css';\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport ApiService from './services/ApiService';\r\nimport Button from './components/Button/Button';\r\nimport Loader from './components/Loader/Loader';\r\nimport Modal from './components/Modal/Modal';\r\nimport Error from './components/Error/Error';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n    query: '',\r\n    images: [],\r\n    page: 1,\r\n    error: null,\r\n    showLoadMoreBtn: false,\r\n    isLoading: false,\r\n    showModal: false,\r\n    largeImageURL: '',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.images.length > 12) {\r\n      this.onScroll();\r\n    }\r\n\r\n    if (prevState.query !== this.state.query) {\r\n      this.setState({\r\n        images: [],\r\n        page: 1,\r\n        error: null,\r\n        showLoadMoreBtn: false,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.searchImgs();\r\n  };\r\n\r\n  searchImgs = async () => {\r\n    const { query, page, showLoadMoreBtn } = this.state;\r\n\r\n    if (query.trim() === '') {\r\n      return toast.info('😱 Please enter a value for search images!');\r\n    }\r\n\r\n    this.toggleLoader();\r\n\r\n    try {\r\n      const request = await ApiService(query, page);\r\n      this.setState(({ images, page }) => ({\r\n        images: [...images, ...request],\r\n        page: page + 1,\r\n      }));\r\n\r\n      if (request.length === 0) {\r\n        this.setState({ error: `No results were found for ${query}!` });\r\n      }\r\n\r\n      if (!showLoadMoreBtn && request.length === 12) {\r\n        this.setState({\r\n          showLoadMoreBtn: true,\r\n        });\r\n      }\r\n\r\n      if (showLoadMoreBtn && request.length < 12) {\r\n        this.setState({\r\n          showLoadMoreBtn: false,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      this.setState({ error: 'Something went wrong. Try again.' });\r\n    } finally {\r\n      this.toggleLoader();\r\n    }\r\n  };\r\n\r\n  onLoadMore = () => {\r\n    this.searchImgs();\r\n  };\r\n\r\n  onScroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  onOpenModal = e => {\r\n    this.setState({ largeImageURL: e.target.dataset.source });\r\n    this.toggleModal();\r\n  };\r\n\r\n  toggleLoader = () => {\r\n    this.setState(({ isLoading }) => ({\r\n      isLoading: !isLoading,\r\n    }));\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      images,\r\n      query,\r\n      showLoadMoreBtn,\r\n      isLoading,\r\n      showModal,\r\n      largeImageURL,\r\n      error,\r\n    } = this.state;\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar\r\n          handleSubmit={this.handleSubmit}\r\n          handleChange={this.handleChange}\r\n          value={query}\r\n        />\r\n\r\n        {error && <Error texterror={error} />}\r\n\r\n        {images.length > 0 && (\r\n          <ImageGallery images={images} onOpenModal={this.onOpenModal} />\r\n        )}\r\n\r\n        {isLoading && <Loader />}\r\n\r\n        {showLoadMoreBtn && <Button onLoadMore={this.onLoadMore} />}\r\n\r\n        {showModal && (\r\n          <Modal\r\n            onToggleModal={this.toggleModal}\r\n            largeImageURL={largeImageURL}\r\n          />\r\n        )}\r\n\r\n        <ToastContainer autoClose={4000} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}